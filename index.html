<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Espresso Toolkit - AI-powered recipe maker and dial-in helper for the perfect espresso" />
    <meta name="theme-color" content="#b8956b" />
    <title>Espresso Toolkit | AI Recipe Maker & Dial-In Helper</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  </head>
  <body>
    <!-- Desktop Navigation Header -->
    <header class="nav-header" role="banner">
      <div class="nav-header-inner">
        <div class="nav-brand">
          <div class="nav-brand-icon" aria-hidden="true">☕</div>
          <span class="nav-brand-text">Espresso Toolkit</span>
        </div>
        <nav class="nav-tabs" role="tablist" aria-label="Main navigation">
          <button class="nav-tab is-active" type="button" data-view-target="recipes" role="tab" aria-selected="true">
            AI Recipe Maker
          </button>
          <button class="nav-tab" type="button" data-view-target="dialin" role="tab" aria-selected="false">
            Dial-In Helper
          </button>
        </nav>
      </div>
    </header>

    <!-- Mobile Sidebar Toggle -->
    <button
      class="sidebar-toggle"
      id="sidebar-toggle"
      aria-controls="sidebar"
      aria-expanded="false"
      type="button"
      aria-label="Open navigation menu"
    >
      <span class="hamburger" aria-hidden="true">
        <span></span>
        <span></span>
        <span></span>
      </span>
      <span class="toggle-text">Menu</span>
    </button>

    <!-- Mobile Sidebar -->
    <aside class="sidebar" id="sidebar" aria-hidden="true" role="dialog" aria-label="Navigation menu">
      <div class="sidebar-header">
        <div>
          <p class="eyebrow">Espresso Toolkit</p>
          <h2>Navigation</h2>
        </div>
        <button class="sidebar-close" id="sidebar-close" type="button" aria-label="Close menu">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <nav class="sidebar-nav" aria-label="Primary">
        <button class="sidebar-link is-active" type="button" data-view-target="recipes">
          <span aria-hidden="true">☕</span> AI Recipe Maker
        </button>
        <button class="sidebar-link" type="button" data-view-target="dialin">
          <span aria-hidden="true">⚙️</span> Dial-In Helper
        </button>
      </nav>
    </aside>

    <div class="sidebar-overlay" id="sidebar-overlay" aria-hidden="true"></div>

    <!-- Main Content -->
    <main class="container" role="main">
      <!-- View: AI Recipe Maker -->
      <section class="app-view is-active" id="view-recipes" data-view="recipes" aria-labelledby="view-recipes-title">
        <h1 id="view-recipes-title" class="visually-hidden">AI Recipe Maker</h1>

        <!-- Setup Card -->
        <section class="setup-card" aria-labelledby="setup-title">
          <header class="setup-hero">
            <div class="setup-hero-text">
              <p class="eyebrow">Step 1 of 1</p>
              <div class="setup-title-row">
                <h2 id="setup-title">What's your setup?</h2>
                <span class="setup-icon" aria-hidden="true">
                  <svg viewBox="0 0 64 64" role="img" aria-hidden="true">
                    <path
                      d="M14 30h28c0 10-6 18-14 18s-14-8-14-18z"
                      fill="none"
                      stroke="#8a837d"
                      stroke-width="2.2"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M42 32h6c4 0 7 3 7 7s-3 7-7 7h-6"
                      fill="none"
                      stroke="#8a837d"
                      stroke-width="2.2"
                      stroke-linecap="round"
                    />
                    <path
                      d="M12 50h36"
                      fill="none"
                      stroke="#8a837d"
                      stroke-width="2.2"
                      stroke-linecap="round"
                    />
                    <path class="steam steam-1" d="M22 24c2-3 2-6 0-9" />
                    <path class="steam steam-2" d="M32 22c2-3 2-6 0-9" />
                    <path class="steam steam-3" d="M42 24c2-3 2-6 0-9" />
                  </svg>
                </span>
              </div>
              <p class="setup-subhead">
                Tell us about your espresso gear and we'll unlock drinks you can actually make.
              </p>
            </div>
          </header>

          <form id="recipes-form" autocomplete="off">
            <div class="form-block">
              <div class="form-label">Machine Type</div>
              <div class="pill-group pill-group--triple" role="radiogroup" aria-label="Machine Type">
                <input
                  class="pill-input"
                  type="radio"
                  name="machine-type"
                  id="machine-type-semi"
                  value="semi-auto"
                  checked
                />
                <label class="pill-option" for="machine-type-semi">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <rect x="3" y="6" width="18" height="12" rx="2"></rect>
                      <path d="M7 18v2m10-2v2M9 10h6"></path>
                    </svg>
                  </span>
                  <span>Semi-Auto</span>
                </label>

                <input
                  class="pill-input"
                  type="radio"
                  name="machine-type"
                  id="machine-type-automatic"
                  value="automatic"
                />
                <label class="pill-option" for="machine-type-automatic">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <rect x="5" y="5" width="14" height="12" rx="2"></rect>
                      <path d="M9 17v2m6-2v2M8 9h8M8 12h8"></path>
                    </svg>
                  </span>
                  <span>Automatic</span>
                </label>

                <input
                  class="pill-input"
                  type="radio"
                  name="machine-type"
                  id="machine-type-super"
                  value="super-auto"
                />
                <label class="pill-option" for="machine-type-super">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <rect x="4" y="4" width="16" height="14" rx="2"></rect>
                      <path d="M7 8h10M7 12h6"></path>
                      <path d="M10 18v2m4-2v2"></path>
                    </svg>
                  </span>
                  <span>Super-Auto</span>
                </label>
              </div>
              <div class="helper-text">Optional: pick your exact machine model below.</div>
              <label class="select-inline">
                Machine Model
                <select id="recipe-machine">
                  <option value="Breville Bambino" selected>Breville Bambino</option>
                  <option value="Breville Barista Express">Breville Barista Express</option>
                  <option value="Gaggia Classic">Gaggia Classic</option>
                  <option value="Rancilio Silvia">Rancilio Silvia</option>
                  <option value="DeLonghi Magnifica Evo (non-LatteCrema)">
                    DeLonghi Magnifica Evo (non-LatteCrema)
                  </option>
                </select>
              </label>
            </div>

            <div class="form-block">
              <div class="form-label">Grinder Type</div>
              <div class="pill-group pill-group--triple" role="radiogroup" aria-label="Grinder Type">
                <input
                  class="pill-input"
                  type="radio"
                  name="grinder-type"
                  id="grinder-type-burr"
                  value="burr"
                  checked
                />
                <label class="pill-option" for="grinder-type-burr">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <path d="M8 4h8l1 6H7l1-6z"></path>
                      <rect x="6" y="10" width="12" height="8" rx="2"></rect>
                      <path d="M10 18v2m4-2v2"></path>
                    </svg>
                  </span>
                  <span>Burr Grinder</span>
                </label>

                <input
                  class="pill-input"
                  type="radio"
                  name="grinder-type"
                  id="grinder-type-built-in"
                  value="built-in"
                />
                <label class="pill-option" for="grinder-type-built-in">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <rect x="6" y="5" width="12" height="14" rx="2"></rect>
                      <path d="M8 9h8M9 13h6"></path>
                    </svg>
                  </span>
                  <span>Built-In</span>
                </label>

                <input
                  class="pill-input"
                  type="radio"
                  name="grinder-type"
                  id="grinder-type-preground"
                  value="preground"
                />
                <label class="pill-option" for="grinder-type-preground">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <path d="M7 5h10l-1 12H8L7 5z"></path>
                      <path d="M9 5V3h6v2"></path>
                    </svg>
                  </span>
                  <span>Pre-Ground</span>
                </label>
              </div>
            </div>

            <div class="form-block">
              <div class="form-label">Filter Basket Size</div>
              <div class="slider-row">
                <div class="slider-control">
                  <input
                    id="basket-size"
                    class="slider"
                    type="range"
                    min="14"
                    max="22"
                    step="1"
                    value="18"
                    aria-label="Filter basket size in grams"
                  />
                  <span class="slider-value"><output id="basket-size-output">18</output>g</span>
                </div>
                <div class="slider-meta">
                  <span>Single 14g</span>
                  <span>Double 22g</span>
                </div>
              </div>
            </div>

            <div class="form-block">
              <div class="form-label">Milk Frothing</div>
              <div class="pill-group" role="radiogroup" aria-label="Milk Frothing">
                <input
                  class="pill-input"
                  type="radio"
                  name="milk-frothing"
                  id="milk-frothing-steam"
                  value="steam"
                  checked
                />
                <label class="pill-option" for="milk-frothing-steam">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <path d="M6 16c0-2 3-2 3-4s-3-2-3-4"></path>
                      <path d="M12 16c0-2 3-2 3-4s-3-2-3-4"></path>
                      <path d="M8 20h8"></path>
                    </svg>
                  </span>
                  <span>Steam Wand</span>
                </label>

                <input
                  class="pill-input"
                  type="radio"
                  name="milk-frothing"
                  id="milk-frothing-frother"
                  value="frother"
                />
                <label class="pill-option" for="milk-frothing-frother">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <path d="M9 4h6v6H9z"></path>
                      <path d="M8 10h8l-1 9H9l-1-9z"></path>
                    </svg>
                  </span>
                  <span>Frother</span>
                </label>

                <input
                  class="pill-input"
                  type="radio"
                  name="milk-frothing"
                  id="milk-frothing-none"
                  value="none"
                />
                <label class="pill-option pill-icon-only" for="milk-frothing-none" aria-label="No milk frothing">
                  <span class="pill-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
                      <path d="M7 7l10 10"></path>
                      <path d="M17 7l-10 10"></path>
                    </svg>
                  </span>
                  <span class="visually-hidden">None</span>
                </label>
              </div>
            </div>

            <div class="form-block">
              <div class="form-label">Latte Art</div>
              <label class="toggle" for="latte-art">
                <span>Include latte art steps</span>
                <input id="latte-art" type="checkbox" />
                <span class="toggle-slider" aria-hidden="true"></span>
              </label>
            </div>

            <div class="actions">
              <button type="button" id="generate-drinks" class="cta-button">
                Get Recipes
              </button>
            </div>
          </form>
        </section>

        <!-- Drink Lineup Card -->
        <section class="card" aria-labelledby="drinks-title">
          <div class="section-title">
            <div>
              <h2 id="drinks-title">Drink Lineup</h2>
              <p class="helper-text">Each drink shows its espresso-to-milk balance and texture goals.</p>
            </div>
          </div>
          <div class="recipe-status is-hidden" id="drinks-status" aria-live="polite"></div>
          <div class="drink-grid" id="drinks-grid" aria-live="polite"></div>
        </section>

        <!-- Recipe Detail Card -->
        <section
          class="card is-hidden"
          id="recipe-detail"
          aria-labelledby="recipe-detail-title"
          aria-hidden="true"
        >
          <div class="section-title">
            <div>
              <h2 id="recipe-detail-title">Recipe Steps</h2>
              <p class="helper-text" id="recipe-summary"></p>
            </div>
          </div>
          <h3 id="recipe-title"></h3>
          <ol class="recipe-steps" id="recipe-steps"></ol>
        </section>
      </section>

      <!-- View: Dial-In Helper -->
      <section class="app-view" id="view-dialin" data-view="dialin" aria-labelledby="dialin-title">
        <header class="header">
          <p class="eyebrow">Dial-In Helper</p>
          <h1 id="dialin-title">Dial in your espresso in minutes</h1>
          <p>
            Share your shot details and get a focused adjustment recommendation for the next pull.
          </p>
        </header>

        <section class="card" aria-labelledby="inputs-title">
          <h2 id="inputs-title">Dial-in details</h2>
          <form id="dialin-form" autocomplete="off">
            <div class="grid">
              <label>
                Machine
                <select id="machine">
                  <option value="Breville Bambino" selected>Breville Bambino</option>
                  <option value="Breville Barista Express">Breville Barista Express</option>
                  <option value="Gaggia Classic">Gaggia Classic</option>
                  <option value="Rancilio Silvia">Rancilio Silvia</option>
                </select>
              </label>

              <label>
                Basket size (g)
                <input id="basket" type="number" min="10" max="24" step="0.1" value="18" />
              </label>

              <label>
                Dose in (g)
                <input id="dose" type="number" min="10" max="24" step="0.1" value="18" />
              </label>

              <label>
                Yield out (g)
                <input id="yield" type="number" min="20" max="60" step="0.1" value="36" />
              </label>

              <label>
                Time (s)
                <input id="time" type="number" min="10" max="60" step="1" value="28" />
              </label>

              <label>
                Roast level
                <select id="roast">
                  <option value="light">Light</option>
                  <option value="medium" selected>Medium</option>
                  <option value="dark">Dark</option>
                </select>
              </label>

              <label>
                Grinder type
                <select id="grinder">
                  <option value="Baratza Encore ESP" selected>Baratza Encore ESP</option>
                  <option value="1Zpresso manual">1Zpresso manual</option>
                </select>
              </label>
            </div>

            <div class="actions" role="group" aria-label="Form actions">
              <button type="button" id="get-guidance" class="btn-primary" style="width: auto;">Get Guidance</button>
              <button type="button" id="reset" class="btn-ghost" disabled>Reset</button>
              <button type="button" id="share" class="btn-secondary" disabled>Share</button>
            </div>
          </form>
        </section>

        <section class="card is-hidden" id="output-card" aria-labelledby="guidance-title" aria-hidden="true">
          <h2 id="guidance-title">Guidance</h2>
          <p class="helper-text">
            Guidance is based on your brew ratio (yield / dose) and shot time vs the 1:2, 25-30s target.
          </p>
          <ul id="guidance"></ul>
          <div class="next-adjustment" id="next-adjustment"></div>
        </section>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
